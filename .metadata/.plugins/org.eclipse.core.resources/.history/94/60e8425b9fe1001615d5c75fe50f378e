package google;

import java.util.Iterator;
import java.util.NoSuchElementException;


public class Bag <E> implements Iterable <E> {
	
	private Node <E> first;
	private int size;
	
	
	public Bag () {
		first = null;
		size = 0;
	}
	
	private static class Node <E> {
		public E value;
		public Node<E> next;
		public Node (E val) {
			value = val;
		}
	}
	
	public void add (E item) {
		Node <E> oldFirst = first;
		Node <E> newitem = new Node <E> (item);
		newitem.next = oldFirst;
		first = newitem;
		size++;
	}
	
	public boolean isEmpty () {
		return size == 0;
	}
	
	public int size () {
		return size;
	}
	
	public Iterator <E> iterator () {
		return new ListIterator(first);
	}
	
	public class ListIterator <E> implements Iterator<E> {
		private Node<E> current;
		
		public ListIterator (Node <E> first) {
			current = first;
		}
		
		public boolean hasNext () {
			return current.next == null;
		}
		
		public void remove () {
			throw new UnsupportedOperationException ();
		}
		
		public E next () {
			if (!hasNext()) 
				throw new NoSuchElementException();
			else {
				E item = current.value;
				current = current.next;
				return item;
			}
		}
	}
	
	public static void main (String [] args) {
		System.out.println("----- Bag.java -----");
		Bag<Integer> bag = new Bag<Integer>();
        for (int i = 0; i < 10; i++) {
            Integer item = new Integer(i);
            bag.add(item);
        }
        System.out.println("Bag size = " + bag.size());
        
//        for (int i = 0; i < bag.size(); i++) {
//        	System.out.println(bag);
//        }
        
        for (Integer item: bag) {
        	System.out.println(String.valueOf(item));
        }
		
	}
	
//	public static void printBag (Bag<Integer> bag) {
//		System.out.println("Printing Bag values...");
//		System.out.println("Bag size = " + bag.size());
//		for (Integer item: bag) {
//			System.out.println(item);
//		}
//	}
	
	
	
}
